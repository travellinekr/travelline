# 입국심사&필요사항 카드 기능 구현 워크스루

**작업일**: 2026-02-18  
**빌드 결과**: ✅ 성공 (Exit code: 0)

---

## 구현 내용

### 1. 데이터 파일 생성
**파일**: `src/data/entryCardGuide.ts`

- **15개국** 입국신고서 데이터 저장 (베트남, 홍콩, 프랑스, 영국, 태국, 일본, 싱가포르, 대만, 말레이시아, 인도네시아, 필리핀, 미국, 호주, 뉴질랜드, 캐나다)
- **도시→국가 매핑** 테이블 (50개 이상 도시 지원)
- `getEntryCardInfo(cityName)` — 도시명으로 입국신고서 정보 조회
- `getEntryCardBlocks(cityName)` — BlockNote 블록 배열로 변환 (제목, 상태, 경고, 체크리스트, 링크)

### 2. Room.tsx 수정
- `p1` 카드명: `"여권 유효기간 확인"` → `"입국심사&필요사항"`
- `isEntryCard: true` 플래그 추가

### 3. PreparationCard.tsx 수정
- `isEntryCard` 카드 전용 아이콘: `CheckSquare` → `Stamp` (여권 도장)
- 하단 설명 텍스트: `"준비물 챙기기"` → `"입국 서류 확인"`

### 4. CollaborativeApp.tsx 수정
- `getEntryCardBlocks` import 추가
- `updateEntryCardNotes` mutation 추가 (p1 카드 notes 업데이트)
- **여행지 추가 시**: `destinationCard` 변경 감지 → 해당 국가 입국신고서 블록 자동 삽입
- **여행지 제거 시**: p1 카드 메모 자동 초기화 (빈 배열)

---

## 동작 흐름

```
여행지 도시 카드 드래그 → destination-header 설정
    ↓
CollaborativeApp useEffect 감지
    ↓
getEntryCardBlocks("도쿄") 호출
    ↓
BlockNote 블록 배열 생성 (제목, 상태, 체크리스트 등)
    ↓
p1 카드(입국심사&필요사항) notes 필드에 저장
    ↓
메모 아이콘(🖊) 클릭 → CardEditorModal 팝업
    ↓
해당 국가 입국신고서 정보 표시
```

---

## 지원 도시 목록

| 국가 | 지원 도시 |
|------|----------|
| 🇻🇳 베트남 | 하노이, 호치민, 다낭, 나트랑, 푸꾸옥, 호이안, 달랏 |
| 🇭🇰 홍콩 | 홍콩 |
| 🇫🇷 프랑스 | 파리, 니스, 리옹 |
| 🇬🇧 영국 | 런던, 에든버러, 맨체스터 |
| 🇹🇭 태국 | 방콕, 푸켓, 치앙마이, 파타야, 코사무이 |
| 🇯🇵 일본 | 도쿄, 오사카, 교토, 후쿠오카, 삿포로, 나고야, 오키나와 등 |
| 🇸🇬 싱가포르 | 싱가포르 |
| 🇹🇼 대만 | 타이베이, 타이중, 가오슝 |
| 🇲🇾 말레이시아 | 쿠알라룸푸르, 페낭, 코타키나발루, 랑카위 |
| 🇮🇩 인도네시아 | 발리, 자카르타, 롬복, 족자카르타 |
| 🇵🇭 필리핀 | 마닐라, 세부, 보라카이, 팔라완 |
| 🇺🇸 미국 | 뉴욕, 로스앤젤레스, 하와이, 라스베가스 등 |
| 🇦🇺 호주 | 시드니, 멜버른, 브리즈번, 골드코스트 |
| 🇳🇿 뉴질랜드 | 오클랜드, 크라이스트처치, 퀸스타운 |
| 🇨🇦 캐나다 | 밴쿠버, 토론토, 몬트리올, 캘거리 |
